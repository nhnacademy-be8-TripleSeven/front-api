<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>쿠폰 내역</title>
  <link rel="stylesheet" th:href="@{/css/coupon-history.css}">
  <link rel="stylesheet" th:href="@{/css/global.css}">
</head>
<body>
<div class="container">

  <div th:replace="header :: header"></div>

  <main class="my-account-container">
    <aside class="sidebar">
      <h3>MY ACCOUNT</h3>
      <ul>
        <li>*구매 내역</li>
        <a th:href="@{/order-history}"><li>주문 조회/취소</li></a>
        <a th:href="@{/return-history}"><li>반품/교환 내역</li></a>
        <a th:href="@{/cancel-history}"><li>취소 주문 내역</li></a>
        <li>*좋아요</li>
        <a th:href="@{/liked-items}"><li>좋아요 내역</li></a>
        <li>*포인트</li>
        <a th:href="@{/point-earned-history}"><li>포인트 적립 내역</li></a>
        <a th:href="@{/point-used-history}"><li>포인트 사용 내역</li></a>
        <li>*쿠폰함</li>
        <a th:href="@{/coupon-history}"><li>쿠폰 내역</li></a>
      </ul>
    </aside>

    <section class="coupon-history">
      <h2>쿠폰 내역</h2>
      <p class="notice">최근 5년간 쿠폰 내역을 조회할 수 있습니다.</p>

      <div class="filters">
        <div class="filter-item">
          <label for="start-date">시작일</label>
          <input type="date" id="start-date">
        </div>
        <div class="filter-item">
          <label for="end-date">종료일</label>
          <input type="date" id="end-date">
        </div>
        <div class="filter-item">
          <label for="filter-status">상태</label>
          <select id="filter-status">
            <option value="all">전체</option>
            <option value="unused">미사용</option>
            <option value="used">사용 완료</option>
          </select>
        </div>
        <div class="filter-item">
          <label for="keyword">검색</label>
          <input type="text" id="keyword" placeholder="키워드 입력">
        </div>
        <button class="filter-btn" id="search-btn">조회</button>
      </div>

      <div class="info-banner">
        <img th:src="@{/image/money.png}" alt="Review Points">
        <div class="banner-text">
          <p class="highlight">리뷰 글 작성 시 200포인트 지급!</p>
          <p>이미지 리뷰 작성 시 500포인트 지급!</p>
        </div>
      </div>

      <h3>발급 내역</h3>
      <table>
        <thead>
        <tr>
          <th>쿠폰 번호</th>
          <th>발급 일자</th>
          <th>만료일</th>
          <th>할인율</th>
          <th>비고</th>
        </tr>
        </thead>
        <tbody id="issued-coupons">
        <tr th:each="coupon : ${issuedCoupons}">
          <td th:text="${coupon.number}">쿠폰 번호</td>
          <td th:text="${coupon.issueDate}">2024-01-01</td>
          <td th:text="${coupon.expiryDate}">2024-12-31</td>
          <td th:text="${coupon.discountRate}">10%</td>
          <td th:text="${coupon.note}">사용 가능</td>
        </tr>
        </tbody>
      </table>

      <h3>사용 내역</h3>
      <table>
        <thead>
        <tr>
          <th>쿠폰 번호</th>
          <th>발급 일자</th>
          <th>사용일</th>
          <th>비고</th>
        </tr>
        </thead>
        <tbody id="used-coupons">
        <tr th:each="coupon : ${usedCoupons}">
          <td th:text="${coupon.number}">쿠폰 번호</td>
          <td th:text="${coupon.issueDate}">2024-01-01</td>
          <td th:text="${coupon.usedDate}">2024-02-01</td>
          <td th:text="${coupon.note}">사용 완료</td>
        </tr>
        </tbody>
      </table>
    </section>
  </main>

  <div th:replace="footer :: footer"></div>

</div>
<script th:src="@{/js/coupon-history.js}"></script>
</body>
</html>