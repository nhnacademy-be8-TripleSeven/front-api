<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NHN 24</title>
    <link rel="stylesheet" href="/css/pay-user.css">
</head>
<body>
<header class="header">
    <div class="logo">
        <a href="../main.html"><img src="/image/logo/nhn24-logo.png" alt="NHN 24 ë¡œê³ "></a>
    </div>
    <div class="header-center">
        <div class="search-bar">
            <label>
                <input type="text" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </label>
            <button>ğŸ”</button>
        </div>
        <nav class="menu">
            <ul>
                <li><a href="/recommended-books.html">ì¶”ì²œ ë„ì„œ</a></li>
                <li><a href="/domestic-books.html">êµ­ë‚´ ë„ì„œ</a></li>
                <li><a href="/foreign-books.html">ì™¸êµ­ ë„ì„œ</a></li>
                <li><a href="/bestsellers.html">ë² ìŠ¤íŠ¸ì…€ëŸ¬</a></li>
                <li><a href="/new-books.html">ì‹ ê°„ ì†Œê°œ</a></li>
                <li><a href="/events.html">ì´ë²¤íŠ¸</a></li>
            </ul>
        </nav>
    </div>
    <div class="user-actions">
        <img src="/image/icons/person.png" alt="User Icon">
        <img src="/image/icons/cart.png" alt="Cart Icon">
        <a href="login-succes.html">
            <button class="login-btn">Login</button>
        </a>
    </div>
</header>


<!-- ë©”ì¸ ì„¹ì…˜ -->
<main>
    <section class="step-container">
        <div class="step active">ì¹´íŠ¸</div>
        <div class="step current">ê²°ì œ</div>
        <div class="step">ì™„ë£Œ</div>
    </section>
    <section class="delivery-section">
        <h2><img src="/image/emoji/ship.png" alt=""> NHN 24 ë°°ì†¡</h2>
        <h6>ì¼ë°˜ ë°°ì†¡: 5000ì›</h6>
    </section>
    <section class="shipping-info">
        <div class="flex-box progress-bar"></div>
        <span class="free-shipping-text">
            <strong>30,000ì›</strong> ì´ìƒ êµ¬ë§¤ ì‹œ <strong>ë¬´ë£Œë°°ì†¡</strong>
        </span>
        <button class="more-details-btn">ë” ë‹´ìœ¼ëŸ¬ ê°€ê¸°</button>
    </section>
    <section class="item-section">
        <div class="product-table">
            <table>
                <thead>
                <tr>
                    <th>ìƒí’ˆì •ë³´</th>
                    <th>ìˆ˜ëŸ‰</th>
                    <th>ìƒí’ˆê¸ˆì•¡</th>
                    <th>ë°°ì†¡ì¼</th>
                    <th>í• ì¸ê¸ˆì•¡</th>
                    <th>í•©ê³„</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product : ${products}">
                    <td class="product-info">
                        <img th:src="${product.coverUrl}" alt="ì±… ì´ë¯¸ì§€">
                        <div>
                            <p><strong th:text="${product.title}">[êµ­ë‚´ ë„ì„œ] ë°˜ ê³ í, ì¸ìƒì˜ ê·¸ë¦¼ë“¤</strong></p>
                            <p th:text="${product.description}">- ì–´ë‘ ì„ ì§€ë‚˜ ë¹„ë¡œì†Œ ë¹›ì´ ëœ ë¶ˆë©¸ì˜ ì‘í’ˆ 120</p>
                        </div>
                    </td>
                    <td th:text="${product.quantity}">1</td>
                    <td th:text="${#numbers.formatInteger(product.price, 0, 'COMMA') + 'ì›'}">21,000ì›</td>
                    <td th:text="${product.deliveryDate[0]}">12/12(ëª©)<br>ë„ì°©(ì˜ˆì •)</td>
                    <td>
                        <span th:text="${#numbers.formatInteger(product.discountedPrice, 0, 'COMMA') + 'ì›'}">18,900ì›</span><br>
                        <span class="discount"
                              th:text="'(' + ${#numbers.formatInteger(product.discountPercentage,0)} + '% í• ì¸)'">(10% í• ì¸)</span>
                    </td>
                    <td th:text="${#numbers.formatInteger(product.totalPrice,  0, 'COMMA') + 'ì›'}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
    <section class="delivery-date-container">
        <div class="delivery-date-label">ë°°ì†¡ì¼</div>
        <div th:each="date, iterStat : ${products.getFirst().deliveryDate}"
             class="date"
             th:classappend="${iterStat.index == 0} ? 'active' : ''"
             th:attr="data-date=${date}"
             th:text="${date}">
            12/15(ì¼)
        </div>
    </section>

    <!-- ë°°ì†¡ ì£¼ì†Œ -->
    <section class="shipping-container">
        <h3><img src="/image/emoji/ship.png" alt=""> ë°°ì†¡ ì£¼ì†Œ</h3>
        <div class="shipping-content">
            <!-- ì™¼ìª½ ì„¹ì…˜ -->
            <div class="shipping-left">
                <!-- ë°°ì†¡ ë°©ë²• -->
                <div class="section shipping-method">
                    <h4>ë°°ì†¡ ë°©ë²•</h4>
                    <div class="shipping-method-class">
                        <label>
                            <input type="radio" name="shipping" value="default" checked>
                            <span>ì¼ë°˜ íƒë°°</span>
                        </label>
                        <label>
                            <input type="radio" name="shipping" value="world">
                            <span>í•´ì™¸ ë°°ì†¡</span>
                        </label>
                        <label>
                            <input type="radio" name="shipping" value="convenient">
                            <span>í¸ì˜ì  íƒë°°</span>
                        </label>
                    </div>
                </div>

                <!-- ì´ë¦„ -->
                <div class="section name">
                    <label for="name">ì´ë¦„ </label>
                    <input type="text" id="name" placeholder="ì´ë¦„ ì…ë ¥">
                </div>

                <!-- ë°°ì†¡ ì£¼ì†Œ -->
                <div class="section address">
                    <label>ë°°ì†¡ì£¼ì†Œ</label>
                    <div>
                        <input type="text" id="road-address" placeholder="ë„ë¡œëª… ì£¼ì†Œ">
                        <input type="text" id="zone-address" placeholder="ì§€ë²ˆ ì£¼ì†Œ">
                        <input type="text" id="detail-address" placeholder="ìƒì„¸ ì£¼ì†Œ">
                    </div>
                </div>

                <!-- íœ´ëŒ€í° -->
                <div class="section mobile-phone">
                    <label>íœ´ëŒ€í°</label>
                    <div class="phone-group">
                        <input type="text" id="mobile-phone1" maxlength="3"> -
                        <input type="text" id="mobile-phone2" maxlength="4"> -
                        <input type="text" id="mobile-phone3" maxlength="4">
                    </div>
                </div>

                <!-- ì¼ë°˜ ì „í™” -->
                <div class="section landline-phone">
                    <label>ì¼ë°˜ ì „í™”</label>
                    <div class="phone-group">
                        <input type="text" id="landline-phone1" maxlength="3"> -
                        <input type="text" id="landline-phone2" maxlength="4"> -
                        <input type="text" id="landline-phone3" maxlength="4">
                    </div>
                </div>
            </div>

            <div class="shipping-right">
                <h3>ì£¼ë¬¸ ê³ ê°</h3>
                <p>
                    íšŒì›ê°€ì… í•˜ì‹œë©´ NHN 24 í¬ì¸íŠ¸ 5000ì› ì ë¦½ë˜ë©°,<br>
                    ì¿ í°/ì¶”ê°€ì ë¦½/ì´ë²¤íŠ¸ ë“±ì˜ í˜œíƒì´ ìˆìŠµë‹ˆë‹¤. ì§€ê¸ˆ ë°”ë¡œ ê°€ì…í•˜ì‹œê³  ë³´ë‹¤ ë§ì€ í˜œíƒ ëˆ„ë ¤ë³´ì„¸ìš”.
                </p>
                <button class="signup-btn">íšŒì›ê°€ì…í•˜ê¸°</button>

                <form>
                    <div class="radio-group">
                        <label><input type="radio" name="customer-info" checked> ìƒˆë¡œì…ë ¥</label>
                        <label><input type="radio" name="customer-info"> ë°°ì†¡ì •ë³´ì™€ ë™ì¼</label>
                    </div>
                    <div class="section name">
                        <label for="customer-name">ì´ë¦„</label>
                        <input type="text" id="customer-name" placeholder="ì´ë¦„ ì…ë ¥">
                    </div>
                    <!-- íœ´ëŒ€í° -->
                    <div class="section mobile-phone">
                        <label>íœ´ëŒ€í°</label>
                        <div class="phone-group">
                            <input type="text" id="customer-mobile1" maxlength="3"> -
                            <input type="text" id="customer-mobile2" maxlength="4"> -
                            <input type="text" id="customer-mobile3" maxlength="4">
                        </div>
                    </div>
                    <!-- ì¼ë°˜ ì „í™” -->
                    <div class="section landline-phone">
                        <label>ì¼ë°˜ ì „í™”</label>
                        <div class="phone-group">
                            <input type="text" id="customer-landline1" maxlength="3"> -
                            <input type="text" id="customer-landline2" maxlength="4"> -
                            <input type="text" id="customer-landline3" maxlength="4">
                        </div>
                    </div>
                    <!-- ì´ë©”ì¼ -->
                    <div class="section email">
                        <label for="customer-email">ì´ë©”ì¼</label>
                        <input type="email" id="customer-email" placeholder="ì´ë©”ì¼ ì…ë ¥">
                    </div>

                    <!-- ë¹„ë°€ë²ˆí˜¸ -->
                    <div class="section password">
                        <label for="customer-password">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="customer-password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
                    </div>
                </form>
                <p class="info-text">ë¹„ë°€ë²ˆí˜¸ëŠ” "ì£¼ë¬¸ í™•ì¸"ì‹œ í•„ìˆ˜ê¸°ì¬ì‚¬í•­ìœ¼ë¡œ ë°˜ë“œì‹œ ê¸°ì…í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.</p>
                <p class="info-text">ë¹„ë°€ë²ˆí˜¸ëŠ” ìˆ«ì + ì˜ë¬¸ ì¡°í•©í•˜ì—¬ 4ìë¦¬ ì´ìƒìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            </div>
        </div>
    </section>

    <section class="payment-info">
        <h3 class="payment-info-title"><img src="/image/emoji/card.png" alt=""> ê²°ì œ ì •ë³´</h3>
        <div class="payment-grid">
            <div class="payment-item">ìƒí’ˆ ê¸ˆì•¡<br><strong
                    th:text="${#numbers.formatInteger(productAmount,0,'COMMA') + 'ì›'}">21,000 ì›</strong></div>
            <div class="payment-item">ì´ ì¶”ê°€ê¸ˆì•¡<br><strong
                    th:text="${#numbers.formatInteger(additionalAmount,  0, 'COMMA') + ' ì›'}">0 ì›</strong></div>
            <div class="payment-item">í• ì¸ê¸ˆì•¡<br><strong
                    th:text="${#numbers.formatInteger(discountAmount,  0, 'COMMA') + ' ì›'}">0 ì›</strong>
            </div>
            <div class="payment-total">
                ìµœì¢… ê²°ì œê¸ˆì•¡<br>
                <strong class="final-amount" th:text="${#numbers.formatInteger(totalAmount,0,'COMMA') + 'ì›'}">18,900
                    ì›</strong>
                <p><strong>ìƒí’ˆ</strong> 1ì¢… (1ê°œ) 21,000 ì›</p>
                <p><span class="discount" th:text="'-> ì¦‰ì‹œí• ì¸ ' + ${#numbers.formatInteger(discountAmount,  0, 'COMMA') + ' ì›'}">-> ì¦‰ì‹œí• ì¸ 2,100 ì›</span></p>
            </div>

            <div class="payment-item">ì¿ í° ì ìš©<br><strong>0 ì›</strong></div>
            <div class="payment-item">í¬ì¸íŠ¸ ì‚¬ìš©<br><strong id = "point-used">0 ì›</strong></div>
            <div class="payment-detail">
                <ul>
                    <li>í¬ì¸íŠ¸ ì‚¬ìš©ì‹œ ê²°ì œ ê¸ˆì•¡: <span id="points-final-amount">0 ì›</span></li>
                    <li>ì¿ í° ì ìš© í›„ ê²°ì œ ê¸ˆì•¡: <span id="coupon-final-amount">0 ì›</span></li>
                    <li>ì‚¬ìš© ê°€ëŠ¥í•œ í¬ì¸íŠ¸: <span id="available-points" th:text="${availablePoint + ' PT'}">0 PT</span></li>
                </ul>
            </div>
        </div>
    </section>

    <section class="payment-method">
        <h3 class="section-title"><img src="/image/emoji/card.png" alt=""> ê²°ì œ ë°©ë²•</h3>
        <div class="payment-container">
            <!-- Left Side -->
            <div class="payment-options">
                <div class="payment-header">
                    <label>
                        <input type="radio" name="payment-method" checked/>
                        ê²°ì œ ìˆ˜ë‹¨
                    </label>
                </div>
                <div class="payment-buttons">
                    <!-- Toss Pay (ì§€ì›ë¨) -->
                    <div class="button" onclick="selectPayment('Toss')">
                        <img src="/image/logo/TossPay_Logo_Primary.png" alt="Toss Pay"/>
                    </div>
                    <!-- ë‚˜ë¨¸ì§€ ë²„íŠ¼ì€ ì§€ì›ë˜ì§€ ì•ŠìŒ -->
                    <div class="button" onclick="showUnsupportedMessage()">
                        <img src="/image/logo/naverpay-logo.jpg" alt="NPay"/>
                    </div>
                    <div class="button" onclick="showUnsupportedMessage()">
                        <img src="/image/logo/kakaopay-logo.png" alt="KakaoPay"/>
                    </div>
                    <div class="button" onclick="showUnsupportedMessage()">
                        <img src="/image/logo/payco-logo.jpg" alt="Payco"/>
                    </div>
                    <div class="button" onclick="showUnsupportedMessage()">
                        <span>ì‹ ìš©ì¹´ë“œ</span>
                    </div>
                    <div class="button" onclick="showUnsupportedMessage()">
                        <span>ê³„ì¢Œ ì´ì²´</span>
                    </div>
                    <div class="button" onclick="showUnsupportedMessage()">
                        <span>ë¬´í†µì¥ ì…ê¸ˆ</span>
                    </div>
                    <div class="button" onclick="showUnsupportedMessage()">
                        <span>ì¶”ê°€ ì˜ˆì •</span>
                    </div>
                </div>
            </div>
        </div>
            <script>
                function selectPayment(method) {
                    alert(`${method} ê²°ì œê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤.`);
                }

                function showUnsupportedMessage() {
                    alert("í˜„ì¬ëŠ” í† ìŠ¤ ê²°ì œë§Œ ì§€ì›ë©ë‹ˆë‹¤.");
                }
            </script>

            <!-- Right Side -->
            <div class="discount-options">
                <div class="direct-point">
                    <strong>Â· ì ë¦½ í¬ì¸íŠ¸ ì‚¬ìš©</strong>
                    <label><input type="radio" name="use-points" value="use" id="use-points-yes"> ì‚¬ìš©í•¨</label>
                    <label><input type="radio" name="use-points" value="not-use" id="use-points-no" checked>
                        ì‚¬ìš©ì•ˆí•¨</label>
                </div>
                <div class="coupon">
                    <strong>Â· ì¿ í°ì‚¬ìš©</strong>
                    <select id="apply-coupon">
                        <option value="0">ì¿ í° ì„ íƒ</option>
                        <!-- ì¿ í° ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ -->
                        <option th:each="coupon : ${couponList}"
                                th:value="${coupon.id}"
                                th:text="'[' + coupon.name + '] ' + (coupon.discountRate != null ? coupon.discountRate + '% í• ì¸' : coupon.discountAmount + 'ì› í• ì¸') + ' - ìœ íš¨ê¸°ê°„: ' + coupon.expiryDate">
                        </option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <section class="payment-section">
        <div class="payment-left">
            <div class="card-selection">
                <p>ì¹´ë“œ ì„ íƒ</p>
                <select>
                    <option value="">ì¹´ë“œ ì„ íƒ</option>
                </select>
            </div>
            <div class="payment-benefit">
                <p><strong>KakaoPay</strong> ìµœëŒ€ 5,000ì› ì¦‰ì‹œí• ì¸</p>
                <p>ê²°ì œ ì‹œ, í• ì¸ ì ìš©ë©ë‹ˆë‹¤.</p>
            </div>
            <section class="review-box">
                <img src="/image/emoji/stackmoney.png" alt="í¬ì¸íŠ¸ ì´ë¯¸ì§€" class="review-image">
                <div class="review-text">
                    <p>ë¦¬ë·° ê¸€ ì‘ì„±ì‹œ 200í¬ì¸íŠ¸ ì§€ê¸‰</p>
                    <p>ì´ë¯¸ì§€ ë¦¬ë·° ì‘ì„±ì‹œ 500í¬ì¸íŠ¸ ì§€ê¸‰</p>
                    <p><strong>ì§€ê¸ˆ ì°¸ì—¬í•´ë³´ì„¸ìš”! ğŸ</strong></p>
                </div>
            </section>
        </div>
        <div class="payment-right">
            <div class="gift-wrapping-section">
                <div class="gift-option">
                    <p>ì„ ë¬¼í¬ì¥</p>
                    <label>
                        <input type="radio" name="gift-wrap" value="include"> í¬í•¨
                    </label>
                    <label>
                        <input type="radio" name="gift-wrap" value="exclude" checked> í¬í•¨ ì•ˆí•¨
                    </label>
                    <a href="#" class="info-icon">â„¹ï¸</a>
                </div>
<!--                <div class="receipt-option">-->
<!--                    <p>ì˜ìˆ˜ì¦</p>-->
<!--                    <label>-->
<!--                        <input type="radio" name="receipt" value="show" checked> ê°€ê²© í‘œì‹œ-->
<!--                    </label>-->
<!--                    <label>-->
<!--                        <input type="radio" name="receipt" value="hide"> ê°€ê²© í‘œì‹œ ì•ˆí•¨-->
<!--                    </label>-->
<!--                </div>-->
            </div>
            <div class="final-payment-info">
                <div class="final-amountp">
                    <p>ìµœì¢… ê²°ì œê¸ˆì•¡</p>
                    <p><strong class="final-amount" th:text="${#numbers.formatInteger(totalAmount,0,'COMMA') + 'ì›'}">18,900 ì›</strong></p>
                </div>
                <button id="pay-button">ê²°ì œí•˜ê¸°</button>
            </div>
        </div>
    </section>
</main>

<footer>
    <div class="footer-links">
        <a href="#">íšŒì‚¬ì†Œê°œ</a>
        <a href="#">ì´ìš©ì•½ê´€</a>
        <a href="#"><strong>ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</strong></a>
        <a href="#">ì²­ì†Œë…„ ë³´í˜¸ì •ì±…</a>
    </div>
    <div class="footer-container">
        <div class="footer-info">
            <p>ëŒ€í‘œì´ì‚¬ ë§ˆë¥´ì½” | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ 123-456-7890</p>
            <p>í†µì‹ íŒë§¤ì—…ì‹ ê³  2024-ê´‘ì£¼ë™êµ¬-01211</p>
            <p>ì´ë©”ì¼: marco@nhn.com | í˜¸ìŠ¤íŒ… ì œê³µì NHN24</p>
            <p>Â© NHN24. All Rights Reserved.</p>
        </div>
        <div class="customer-center">
            <p><strong>ê³ ê°ì„¼í„° 1544-8282 (ë°œì‹ ì ë¶€ë‹´)</strong></p>
            <p>ê´‘ì£¼ê´‘ì—­ì‹œ ë™êµ¬ ì„œì„ë™ ì¡°ì„ ëŒ€í•™êµ 1ì¸µ NHNì•„ì¹´ë°ë¯¸</p>
            <p>Fax 062-1234-5678</p>
            <div class="footer-buttons">
                <button>1:1 ë¬¸ì˜</button>
                <button>FAQ</button>
                <button>ìœ„ì¹˜, ì˜ì—…ì‹œê°„ ì•ˆë‚´</button>
            </div>
        </div>
    </div>
</footer>
<!--<script src="script.js"></script>-->
</body>
</html>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const pointsYes = document.getElementById("use-points-yes");
        const pointsNo = document.getElementById("use-points-no");
        const finalAmountElems = document.querySelectorAll(".final-amount ");
        const pointsFinalAmountElem = document.getElementById("points-final-amount");
        const availablePointsElem = document.getElementById("available-points");
        const pointUsedElem = document.getElementById("point-used");

        // ì´ˆê¸° ë°ì´í„°
        let finalAmount = parseInt(finalAmountElems[0].textContent.replace(/[^0-9]/g, "")) || 0;
        let availablePoints = parseInt(availablePointsElem.textContent.replace(/[^0-9]/g, "")) || 0;
        let isUsingPoints = false;

        // í¬ì¸íŠ¸ ì‚¬ìš© ì—¬ë¶€ ì´ë²¤íŠ¸
        pointsYes.addEventListener("change", () => {
            isUsingPoints = true;
            updateAmounts();
        });

        pointsNo.addEventListener("change", () => {
            isUsingPoints = false;
            updateAmounts();
        });

        // ê¸ˆì•¡ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        const updateAmounts = () => {
            // í¬ì¸íŠ¸ ì‚¬ìš© ê¸ˆì•¡ ê³„ì‚°
            const pointsUsed = isUsingPoints ? Math.min(finalAmount, availablePoints) : 0;

            // í¬ì¸íŠ¸ ì ìš© í›„ ê¸ˆì•¡ ê³„ì‚°
            const pointsFinalAmount = Math.max(finalAmount - pointsUsed, 0);

            // UI ì—…ë°ì´íŠ¸
            pointUsedElem.textContent = `${pointsUsed.toLocaleString()} ì›`;
            pointsFinalAmountElem.textContent = `${pointsFinalAmount.toLocaleString()} ì›`;
            availablePointsElem.textContent = isUsingPoints
                ? `${(availablePoints - pointsUsed).toLocaleString()} PT`
                : `${availablePoints.toLocaleString()} PT`;

            // ëª¨ë“  ìµœì¢… ê²°ì œ ê¸ˆì•¡ ìš”ì†Œ ì—…ë°ì´íŠ¸
            finalAmountElems.forEach((elem) => {
                elem.textContent = `${pointsFinalAmount.toLocaleString()} ì›`;
            });
        };

        // ì´ˆê¸°í™”
        updateAmounts();
    });
    document.addEventListener("DOMContentLoaded", () => {
        const dateElements = document.querySelectorAll(".delivery-date-container .date");
        const deliveryDateElements = document.querySelectorAll(".item-section .product-table tbody tr td:nth-child(4)");

        dateElements.forEach((dateElement) => {
            dateElement.addEventListener("click", () => {
                // ëª¨ë“  ë‚ ì§œì—ì„œ 'active' í´ë˜ìŠ¤ ì œê±°
                dateElements.forEach((el) => el.classList.remove("active"));

                // ì„ íƒëœ ë‚ ì§œì— 'active' í´ë˜ìŠ¤ ì¶”ê°€
                dateElement.classList.add("active");

                // ì„ íƒëœ ë‚ ì§œ ê°€ì ¸ì˜¤ê¸°
                const selectedDate = dateElement.getAttribute("data-date");

                if (selectedDate) {
                    // ìƒí’ˆë³„ ë°°ì†¡ì¼ ì—…ë°ì´íŠ¸
                    deliveryDateElements.forEach((deliveryElem) => {
                        deliveryElem.textContent = selectedDate; // ë‚ ì§œ ì—…ë°ì´íŠ¸
                    });
                } else {
                    console.error("ì„ íƒëœ ë‚ ì§œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                }
            });
        });
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    document.getElementById("pay-button").addEventListener("click", (event) => {
        event.preventDefault(); // ê¸°ë³¸ ë²„íŠ¼ ë™ì‘ ë°©ì§€

        const form = document.createElement("form");
        form.method = "post";
        form.action = "/frontend/payment";

        const addHiddenField = (name, value) => {
            const input = document.createElement("input");
            input.type = "hidden";
            input.name = name;
            input.value = value;
            form.appendChild(input);
        };

        // ì£¼ë¬¸ì ì •ë³´ ìˆ˜ì§‘
        addHiddenField("customerName", document.getElementById("customer-name").value);
        addHiddenField("customerPhone", `${document.getElementById("customer-mobile1").value}-${document.getElementById("customer-mobile2").value}-${document.getElementById("customer-mobile3").value}`);
        addHiddenField("customerLandline", `${document.getElementById("customer-landline1").value}-${document.getElementById("customer-landline2").value}-${document.getElementById("customer-landline3").value}`);
        addHiddenField("customerEmail", document.getElementById("customer-email").value);
        addHiddenField("customerPassword", document.getElementById("customer-password").value);

        // ë°›ëŠ” ì‚¬ëŒ ì •ë³´ ìˆ˜ì§‘
        addHiddenField("recipientName", document.getElementById("name").value);
        addHiddenField("recipientPhone", `${document.getElementById("mobile-phone1").value}-${document.getElementById("mobile-phone2").value}-${document.getElementById("mobile-phone3").value}`);
        addHiddenField("recipientLandline", `${document.getElementById("landline-phone1").value}-${document.getElementById("landline-phone2").value}-${document.getElementById("landline-phone3").value}`);
        addHiddenField("recipientAddress", document.getElementById("road-address").value);
        addHiddenField("roadAddress", document.getElementById("road-address").value);
        addHiddenField("zoneAddress", document.getElementById("zone-address").value);
        addHiddenField("detailAddress", document.getElementById("detail-address").value);

        // í¬ì¥ì§€ì™€ ì¿ í° ì„ íƒ ì—¬ë¶€ í™•ì¸ í›„ ì¶”ê°€
        const wrapperElement = document.getElementById("wrapper-select");
        const wrapperId = wrapperElement ? wrapperElement.value : null;
        addHiddenField("wrapperId", wrapperId ? parseInt(wrapperId) : null);

        const couponElement = document.getElementById("apply-coupon");
        const couponId = couponElement ? couponElement.value : null;
        addHiddenField("couponId", couponId ? parseInt(couponId) : null);

        // í¬ì¸íŠ¸ì™€ ì´ ê¸ˆì•¡ ì¶”ê°€
        // í¬ì¸íŠ¸ ì‚¬ìš© ì—¬ë¶€ í™•ì¸ ë° ì¶”ê°€
        const usedPointsElement = document.getElementById("used-points");
        const usedPoints = usedPointsElement ? parseInt(usedPointsElement.value) || 0 : 0;
        addHiddenField("point", usedPoints);
        addHiddenField("totalAmount", parseInt(document.querySelector(".final-amount").textContent.replace(/[^0-9]/g, "")) || 0);

        document.body.appendChild(form);
        form.submit();
    });
</script>

